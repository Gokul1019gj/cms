{% extends 'main.html' %}
{% block content %}



      


<div class="container">
  <h1>CMS</h1>
  <div class="row d-flex align-content-center vh-100"> 
    {% if message %}
    {% for message in messages %}
      
      <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>

<script>

  $(document).ready(function(){
    $("#popupmodal").modal('show');
  });
</script>





      <div class="modal fade" id="popupmodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">CMS</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="text-center mt-3">
                <ion-icon style="font-size: 50px; color: green;" name="checkmark-circle-outline"></ion-icon>

              </div>
              {{message}}
              
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
      {% endif %}


  <div class="col-12">
  <div class="card mx-auto border-0 shadow " style="width: 22rem;">
  <div class="card-body">

 
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
      <h1 class="text-center text-primary">REGISTER</h1>
      <div class="form-group">
          <label for="name">Name</label>
          <input name="name" type="text" class="form-control" id="name" aria-describedby="emailHelp" >
        </div>
        

      <div class="form-group mt-3">
        <label for="exampleInputEmail1">Email address</label>
        <input name="email" type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" >
      </div>

      <div class="form-group mt-3">
          <label for="num">Phone no</label>
          <input name="ph_no" type="text" class="form-control" id="num"  >
      </div>

      <div class="form-group mt-3">
          <label for="desi">Designation</label>
          <input name="designation" type="text" class="form-control" id="desi"  >
      </div>
      <div class="form-group mt-3">
        <label for="desi">Gender</label>
        <div class="form-check">
         
          <input class="form-check-input" value="male" type="radio" name="gender" id="flexRadioDefault1">
          <label class="form-check-label" for="flexRadioDefault1">
            Male
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" value="female"  type="radio" name="gender" id="flexRadioDefault2" >
          <label class="form-check-label" for="flexRadioDefault2">
           Female
          </label>
        </div>

        <div class="form-check">
         
          <input class="form-check-input" value="others" type="radio" name="gender" id="flexRadioDefault1">
          <label class="form-check-label" for="flexRadioDefault1">
            Others
          </label>
        </div>
      </div>

      <div class="form-group mt-3">
          <label for="org">Organization</label>
          <input name="organization" type="text" class="form-control" id="org" >
      </div>
      <label for="org">Participant type</label>
      <div class="form-group mt-3">
        
        <div class="text-center">{{form2.participant_type}}</div> 
    </div>

      <div class="form-group mt-3">
          <label for="photo">Photo</label>
          <input name="photo" type="file" class="form-control" id="photo" >
      </div>

      



      
        <div class="mt-3 text-center">
      <button type="submit" id="btn-sent" class="btn btn-primary">Submit</button>
      </div>

      
    </form>
</div>
</div>
</div>
</div>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>

<script>

  jQuery(function($){
    $(document).ajaxSend(function(){
  
      $("spinner-border").fadeIn(500);
  
    var loading = `<div class="spinner-border spinner-border-sm"></div>&nbsp;&nbsp; please wait...`
    $("#btn-sent").html(loading);
  
    });
    
    $("#btn-sent").click(function(){
      $.ajax({
        type:'POST',
        success: function(data){
          console.log(data);
        }
      }).done(function(){
        setTimeout(function(){
          $(".spinner-border").fadeOut(500);
        },700);
      });
    });
  });
  </script>
{% endblock %}